{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const DashboardPage=()=>{const{user}=useAuth();const[subjects,setSubjects]=useState([]);const[recentTopics,setRecentTopics]=useState([]);const[progress,setProgress]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const API_URL=process.env.REACT_APP_API_URL||'http://localhost:8000';useEffect(()=>{const fetchDashboardData=async()=>{try{setLoading(true);const token=localStorage.getItem('token');if(!token){throw new Error('No authentication token found');}// Fetch subjects\nconst subjectsResponse=await axios.get(\"\".concat(API_URL,\"/api/subjects\"),{headers:{Authorization:\"Bearer \".concat(token)}});// Fetch user progress\nconst progressResponse=await axios.get(\"\".concat(API_URL,\"/api/users/me/progress\"),{headers:{Authorization:\"Bearer \".concat(token)}});setSubjects(subjectsResponse.data.slice(0,4));// Limit to 4 subjects\nsetProgress(progressResponse.data);// Get recent topics based on progress\nif(progressResponse.data.length>0){// Sort progress by last_accessed\nconst sortedProgress=[...progressResponse.data].sort((a,b)=>new Date(b.last_accessed).getTime()-new Date(a.last_accessed).getTime());// Get the topic IDs\nconst topicIds=sortedProgress.slice(0,3).map(p=>p.topic_id);// Fetch topic details\nconst topicPromises=topicIds.map(id=>axios.get(\"\".concat(API_URL,\"/api/topics/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}));const topicResponses=await Promise.all(topicPromises);setRecentTopics(topicResponses.map(res=>res.data));}setLoading(false);}catch(err){console.error('Error fetching dashboard data:',err);setError('Failed to load dashboard data. Please try again later.');setLoading(false);}};fetchDashboardData();},[API_URL,user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"py-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:[\"Welcome, \",user===null||user===void 0?void 0:user.username,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Here's your personalized learning dashboard\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"})}):error?/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-400 p-4 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:error})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-6 lg:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Recent Topics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm text-gray-500\",children:\"Continue where you left off\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/subjects\",className:\"text-sm font-medium text-primary-600 hover:text-primary-500\",children:\"View all\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200\",children:recentTopics.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:recentTopics.map(topic=>{const topicProgress=progress.find(p=>p.topic_id===topic._id);return/*#__PURE__*/_jsx(\"li\",{className:\"px-4 py-4 sm:px-6 hover:bg-gray-50\",children:/*#__PURE__*/_jsxs(Link,{to:\"/topics/\".concat(topic._id),className:\"block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-primary-600 truncate\",children:topic.name}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-2 flex-shrink-0 flex\",children:/*#__PURE__*/_jsx(\"p\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\",children:topicProgress?\"\".concat(Math.round(topicProgress.mastery_level*10),\"% mastery\"):'New'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex justify-between\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:flex\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center text-sm text-gray-500\",children:[topic.description.substring(0,100),topic.description.length>100?'...':'']})})})]})},topic._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"You haven't studied any topics yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/subjects\",className:\"mt-2 inline-block text-sm font-medium text-primary-600 hover:text-primary-500\",children:\"Explore subjects\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Your Learning Progress\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm text-gray-500\",children:\"Track your knowledge growth\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 px-4 py-5 sm:px-6\",children:progress.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:progress.slice(0,3).map(p=>{const topic=recentTopics.find(t=>t._id===p.topic_id)||{name:'Unknown Topic'};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:typeof topic==='object'?topic.name:topic}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[Math.round(p.mastery_level*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-600 h-2.5 rounded-full\",style:{width:\"\".concat(Math.round(p.mastery_level*100),\"%\")}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[p.questions_answered,\" questions answered | Last studied: \",new Date(p.last_accessed).toLocaleDateString()]})]},p._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No progress data available yet.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Start learning to track your progress!\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Popular Subjects\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm text-gray-500\",children:\"Explore subjects to study\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/subjects\",className:\"text-sm font-medium text-primary-600 hover:text-primary-500\",children:\"View all\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4\",children:[subjects.map(subject=>/*#__PURE__*/_jsxs(Link,{to:\"/subjects?selected=\".concat(subject._id),className:\"block bg-gray-50 hover:bg-gray-100 rounded-lg p-4 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-medium text-gray-900\",children:subject.name}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500 line-clamp-2\",children:subject.description}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-primary-600\",children:\"Explore topics \\u2192\"})})]},subject._id)),subjects.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No subjects available yet.\"})})]})})]})]})]});};export default DashboardPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth","axios","jsxs","_jsxs","jsx","_jsx","DashboardPage","user","subjects","setSubjects","recentTopics","setRecentTopics","progress","setProgress","loading","setLoading","error","setError","API_URL","process","env","REACT_APP_API_URL","fetchDashboardData","token","localStorage","getItem","Error","subjectsResponse","get","concat","headers","Authorization","progressResponse","data","slice","length","sortedProgress","sort","a","b","Date","last_accessed","getTime","topicIds","map","p","topic_id","topicPromises","id","topicResponses","Promise","all","res","err","console","className","children","username","xmlns","viewBox","fill","fillRule","d","clipRule","to","topic","topicProgress","find","_id","name","Math","round","mastery_level","description","substring","t","style","width","questions_answered","toLocaleDateString","subject"],"sources":["/Users/dauletkaparov/Desktop/MVP2/frontend/src/pages/DashboardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\n\ninterface Subject {\n  _id: string;\n  name: string;\n  description: string;\n}\n\ninterface Topic {\n  _id: string;\n  name: string;\n  description: string;\n  subject_id: string;\n  difficulty: number;\n}\n\ninterface Progress {\n  _id: string;\n  topic_id: string;\n  mastery_level: number;\n  questions_answered: number;\n  correct_answers: number;\n  last_accessed: string;\n}\n\nconst DashboardPage: React.FC = () => {\n  const { user } = useAuth();\n  const [subjects, setSubjects] = useState<Subject[]>([]);\n  const [recentTopics, setRecentTopics] = useState<Topic[]>([]);\n  const [progress, setProgress] = useState<Progress[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Fetch subjects\n        const subjectsResponse = await axios.get(`${API_URL}/api/subjects`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        // Fetch user progress\n        const progressResponse = await axios.get(`${API_URL}/api/users/me/progress`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        setSubjects(subjectsResponse.data.slice(0, 4)); // Limit to 4 subjects\n        setProgress(progressResponse.data);\n        \n        // Get recent topics based on progress\n        if (progressResponse.data.length > 0) {\n          // Sort progress by last_accessed\n          const sortedProgress = [...progressResponse.data].sort(\n            (a, b) => new Date(b.last_accessed).getTime() - new Date(a.last_accessed).getTime()\n          );\n          \n          // Get the topic IDs\n          const topicIds = sortedProgress.slice(0, 3).map(p => p.topic_id);\n          \n          // Fetch topic details\n          const topicPromises = topicIds.map(id => \n            axios.get(`${API_URL}/api/topics/${id}`, {\n              headers: { Authorization: `Bearer ${token}` }\n            })\n          );\n          \n          const topicResponses = await Promise.all(topicPromises);\n          setRecentTopics(topicResponses.map(res => res.data));\n        }\n        \n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching dashboard data:', err);\n        setError('Failed to load dashboard data. Please try again later.');\n        setLoading(false);\n      }\n    };\n    \n    fetchDashboardData();\n  }, [API_URL, user]);\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div className=\"py-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">\n          Welcome, {user?.username}!\n        </h1>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Here's your personalized learning dashboard\n        </p>\n      </div>\n      \n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 my-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">{error}</p>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n          {/* Recent Topics */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n              <div>\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Recent Topics</h3>\n                <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Continue where you left off</p>\n              </div>\n              <Link to=\"/subjects\" className=\"text-sm font-medium text-primary-600 hover:text-primary-500\">\n                View all\n              </Link>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              {recentTopics.length > 0 ? (\n                <ul className=\"divide-y divide-gray-200\">\n                  {recentTopics.map((topic) => {\n                    const topicProgress = progress.find(p => p.topic_id === topic._id);\n                    return (\n                      <li key={topic._id} className=\"px-4 py-4 sm:px-6 hover:bg-gray-50\">\n                        <Link to={`/topics/${topic._id}`} className=\"block\">\n                          <div className=\"flex items-center justify-between\">\n                            <p className=\"text-sm font-medium text-primary-600 truncate\">{topic.name}</p>\n                            <div className=\"ml-2 flex-shrink-0 flex\">\n                              <p className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                                {topicProgress ? `${Math.round(topicProgress.mastery_level * 10)}% mastery` : 'New'}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"mt-2 flex justify-between\">\n                            <div className=\"sm:flex\">\n                              <p className=\"flex items-center text-sm text-gray-500\">\n                                {topic.description.substring(0, 100)}\n                                {topic.description.length > 100 ? '...' : ''}\n                              </p>\n                            </div>\n                          </div>\n                        </Link>\n                      </li>\n                    );\n                  })}\n                </ul>\n              ) : (\n                <div className=\"px-4 py-5 sm:px-6 text-center\">\n                  <p className=\"text-sm text-gray-500\">You haven't studied any topics yet.</p>\n                  <Link to=\"/subjects\" className=\"mt-2 inline-block text-sm font-medium text-primary-600 hover:text-primary-500\">\n                    Explore subjects\n                  </Link>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Learning Progress */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Your Learning Progress</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Track your knowledge growth</p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              {progress.length > 0 ? (\n                <div className=\"space-y-6\">\n                  {progress.slice(0, 3).map((p) => {\n                    const topic = recentTopics.find(t => t._id === p.topic_id) || { name: 'Unknown Topic' };\n                    return (\n                      <div key={p._id} className=\"space-y-2\">\n                        <div className=\"flex justify-between\">\n                          <p className=\"text-sm font-medium text-gray-900\">{typeof topic === 'object' ? topic.name : topic}</p>\n                          <p className=\"text-sm text-gray-500\">{Math.round(p.mastery_level * 100)}%</p>\n                        </div>\n                        <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                          <div \n                            className=\"bg-primary-600 h-2.5 rounded-full\" \n                            style={{ width: `${Math.round(p.mastery_level * 100)}%` }}\n                          ></div>\n                        </div>\n                        <p className=\"text-xs text-gray-500\">\n                          {p.questions_answered} questions answered | Last studied: {new Date(p.last_accessed).toLocaleDateString()}\n                        </p>\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : (\n                <div className=\"text-center\">\n                  <p className=\"text-sm text-gray-500\">No progress data available yet.</p>\n                  <p className=\"mt-1 text-sm text-gray-500\">Start learning to track your progress!</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Popular Subjects */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg lg:col-span-2\">\n            <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n              <div>\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Popular Subjects</h3>\n                <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Explore subjects to study</p>\n              </div>\n              <Link to=\"/subjects\" className=\"text-sm font-medium text-primary-600 hover:text-primary-500\">\n                View all\n              </Link>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4\">\n                {subjects.map((subject) => (\n                  <Link\n                    key={subject._id}\n                    to={`/subjects?selected=${subject._id}`}\n                    className=\"block bg-gray-50 hover:bg-gray-100 rounded-lg p-4 border border-gray-200\"\n                  >\n                    <h3 className=\"text-md font-medium text-gray-900\">{subject.name}</h3>\n                    <p className=\"mt-2 text-sm text-gray-500 line-clamp-2\">{subject.description}</p>\n                    <div className=\"mt-4 flex items-center\">\n                      <span className=\"text-xs font-medium text-primary-600\">Explore topics →</span>\n                    </div>\n                  </Link>\n                ))}\n                {subjects.length === 0 && (\n                  <div className=\"col-span-full text-center py-8\">\n                    <p className=\"text-sm text-gray-500\">No subjects available yet.</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}