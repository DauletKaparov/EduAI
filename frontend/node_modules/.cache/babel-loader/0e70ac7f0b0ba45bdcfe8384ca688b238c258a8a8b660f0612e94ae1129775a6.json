{"ast":null,"code":"var _jsxFileName = \"/Users/dauletkaparov/Desktop/MVP2/frontend/src/pages/TopicPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TopicPage = () => {\n  _s();\n  const {\n    topicId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [topic, setTopic] = useState(null);\n  const [subject, setSubject] = useState(null);\n  const [contents, setContents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [generatingStudySheet, setGeneratingStudySheet] = useState(false);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  useEffect(() => {\n    const fetchTopicData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        // Fetch topic details\n        const topicResponse = await axios.get(`${API_URL}/api/topics/${topicId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setTopic(topicResponse.data);\n\n        // Fetch subject details\n        const subjectResponse = await axios.get(`${API_URL}/api/subjects/${topicResponse.data.subject_id}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setSubject(subjectResponse.data);\n\n        // Fetch content for this topic\n        const contentResponse = await axios.get(`${API_URL}/api/contents?topic_id=${topicId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setContents(contentResponse.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching topic data:', err);\n        setError('Failed to load topic data. Please try again later.');\n        setLoading(false);\n      }\n    };\n    if (topicId) {\n      fetchTopicData();\n    }\n  }, [API_URL, topicId]);\n  const handleGenerateStudySheet = async () => {\n    try {\n      setGeneratingStudySheet(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Generate a study sheet\n      await axios.post(`${API_URL}/api/generate/studysheet`, {\n        topic_id: topicId\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Navigate to the study sheet page\n      navigate(`/study-sheet/${topicId}`);\n    } catch (err) {\n      console.error('Error generating study sheet:', err);\n      setError('Failed to generate study sheet. Please try again later.');\n      setGeneratingStudySheet(false);\n    }\n  };\n\n  // Function to get difficulty label and color\n  const getDifficultyInfo = difficulty => {\n    if (difficulty <= 3) {\n      return {\n        label: 'Beginner',\n        color: 'bg-green-100 text-green-800'\n      };\n    } else if (difficulty <= 6) {\n      return {\n        label: 'Intermediate',\n        color: 'bg-yellow-100 text-yellow-800'\n      };\n    } else {\n      return {\n        label: 'Advanced',\n        color: 'bg-red-100 text-red-800'\n      };\n    }\n  };\n\n  // Group content by type\n  const explanations = contents.filter(c => c.type === 'explanation');\n  const examples = contents.filter(c => c.type === 'example');\n  const resources = contents.filter(c => c.type === 'resource');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border-l-4 border-red-400 p-4 my-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-red-400\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-700\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row md:items-center md:justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [subject && /*#__PURE__*/_jsxDEV(Link, {\n                to: `/subjects?selected=${subject._id}`,\n                className: \"text-sm text-primary-600 hover:text-primary-700\",\n                children: subject.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mx-2 text-gray-500\",\n                children: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: topic === null || topic === void 0 ? void 0 : topic.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-500\",\n              children: topic === null || topic === void 0 ? void 0 : topic.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 md:mt-0 flex space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGenerateStudySheet,\n              disabled: generatingStudySheet,\n              className: `flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''}`,\n              children: generatingStudySheet ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this), \"Generating...\"]\n              }, void 0, true) : 'Generate Study Sheet'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), topic && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getDifficultyInfo(topic.difficulty).color}`,\n            children: [getDifficultyInfo(topic.difficulty).label, \" Level\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 grid grid-cols-1 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:px-6 flex justify-between items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg leading-6 font-medium text-gray-900\",\n                children: \"Explanations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n                children: \"Core concepts and knowledge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200\",\n            children: explanations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6 space-y-6\",\n              children: explanations.map(explanation => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prose max-w-none\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: explanation.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm text-gray-700 whitespace-pre-line\",\n                  children: explanation.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-xs text-gray-500\",\n                  children: [\"Source: \", explanation.source]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 25\n                }, this)]\n              }, explanation._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"No explanations available for this topic yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), examples.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900\",\n              children: \"Examples\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n              children: \"Practical examples to reinforce learning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6 space-y-6\",\n              children: examples.map(example => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prose max-w-none\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: example.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm text-gray-700 bg-gray-50 p-4 rounded-md whitespace-pre-line\",\n                  children: example.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 25\n                }, this)]\n              }, example._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this), resources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900\",\n              children: \"Additional Resources\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n              children: \"Further reading and learning materials\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-4\",\n                children: resources.map(resource => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-gray-900\",\n                    children: resource.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-gray-700\",\n                    children: resource.body\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-xs text-primary-600\",\n                    children: resource.source\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 27\n                  }, this)]\n                }, resource._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-primary-50 shadow overflow-hidden sm:rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900\",\n              children: \"Generate a Personalized Study Sheet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 max-w-xl text-sm text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Our AI will create a personalized study sheet for you based on your knowledge level and learning preferences.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-5\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleGenerateStudySheet,\n                disabled: generatingStudySheet,\n                className: `inline-flex items-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm ${generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''}`,\n                children: generatingStudySheet ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      className: \"opacity-25\",\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"opacity-75\",\n                      fill: \"currentColor\",\n                      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this), \"Creating Your Study Sheet...\"]\n                }, void 0, true) : 'Create My Study Sheet'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(TopicPage, \"/pCqasm+hC8HhOBGnKMD22neWVQ=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = TopicPage;\nexport default TopicPage;\nvar _c;\n$RefreshReg$(_c, \"TopicPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","useAuth","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","TopicPage","_s","topicId","navigate","user","topic","setTopic","subject","setSubject","contents","setContents","loading","setLoading","error","setError","generatingStudySheet","setGeneratingStudySheet","API_URL","process","env","REACT_APP_API_URL","fetchTopicData","token","localStorage","getItem","Error","topicResponse","get","headers","Authorization","data","subjectResponse","subject_id","contentResponse","err","console","handleGenerateStudySheet","post","topic_id","getDifficultyInfo","difficulty","label","color","explanations","filter","c","type","examples","resources","className","children","fileName","_jsxFileName","lineNumber","columnNumber","xmlns","viewBox","fill","fillRule","d","clipRule","to","_id","name","description","onClick","disabled","cx","cy","r","stroke","strokeWidth","length","map","explanation","title","body","source","example","resource","_c","$RefreshReg$"],"sources":["/Users/dauletkaparov/Desktop/MVP2/frontend/src/pages/TopicPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\n\ninterface Topic {\n  _id: string;\n  name: string;\n  description: string;\n  subject_id: string;\n  difficulty: number;\n  prerequisites: string[];\n}\n\ninterface Content {\n  _id: string;\n  topic_id: string;\n  type: string;\n  title: string;\n  body: string;\n  source: string;\n  difficulty: number;\n}\n\ninterface Subject {\n  _id: string;\n  name: string;\n}\n\nconst TopicPage: React.FC = () => {\n  const { topicId } = useParams<{ topicId: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  \n  const [topic, setTopic] = useState<Topic | null>(null);\n  const [subject, setSubject] = useState<Subject | null>(null);\n  const [contents, setContents] = useState<Content[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [generatingStudySheet, setGeneratingStudySheet] = useState(false);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n  useEffect(() => {\n    const fetchTopicData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Fetch topic details\n        const topicResponse = await axios.get(`${API_URL}/api/topics/${topicId}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        setTopic(topicResponse.data);\n        \n        // Fetch subject details\n        const subjectResponse = await axios.get(\n          `${API_URL}/api/subjects/${topicResponse.data.subject_id}`,\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        \n        setSubject(subjectResponse.data);\n        \n        // Fetch content for this topic\n        const contentResponse = await axios.get(\n          `${API_URL}/api/contents?topic_id=${topicId}`,\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        \n        setContents(contentResponse.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching topic data:', err);\n        setError('Failed to load topic data. Please try again later.');\n        setLoading(false);\n      }\n    };\n    \n    if (topicId) {\n      fetchTopicData();\n    }\n  }, [API_URL, topicId]);\n\n  const handleGenerateStudySheet = async () => {\n    try {\n      setGeneratingStudySheet(true);\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      \n      // Generate a study sheet\n      await axios.post(\n        `${API_URL}/api/generate/studysheet`,\n        { topic_id: topicId },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      \n      // Navigate to the study sheet page\n      navigate(`/study-sheet/${topicId}`);\n    } catch (err) {\n      console.error('Error generating study sheet:', err);\n      setError('Failed to generate study sheet. Please try again later.');\n      setGeneratingStudySheet(false);\n    }\n  };\n\n  // Function to get difficulty label and color\n  const getDifficultyInfo = (difficulty: number) => {\n    if (difficulty <= 3) {\n      return { label: 'Beginner', color: 'bg-green-100 text-green-800' };\n    } else if (difficulty <= 6) {\n      return { label: 'Intermediate', color: 'bg-yellow-100 text-yellow-800' };\n    } else {\n      return { label: 'Advanced', color: 'bg-red-100 text-red-800' };\n    }\n  };\n\n  // Group content by type\n  const explanations = contents.filter(c => c.type === 'explanation');\n  const examples = contents.filter(c => c.type === 'example');\n  const resources = contents.filter(c => c.type === 'resource');\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 my-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">{error}</p>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <>\n          {/* Topic Header */}\n          <div className=\"py-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\n              <div>\n                <div className=\"flex items-center\">\n                  {subject && (\n                    <Link to={`/subjects?selected=${subject._id}`} className=\"text-sm text-primary-600 hover:text-primary-700\">\n                      {subject.name}\n                    </Link>\n                  )}\n                  <span className=\"mx-2 text-gray-500\">/</span>\n                  <h1 className=\"text-2xl font-bold text-gray-900\">{topic?.name}</h1>\n                </div>\n                <p className=\"mt-1 text-sm text-gray-500\">{topic?.description}</p>\n              </div>\n              <div className=\"mt-4 md:mt-0 flex space-x-3\">\n                <button\n                  onClick={handleGenerateStudySheet}\n                  disabled={generatingStudySheet}\n                  className={`flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${\n                    generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''\n                  }`}\n                >\n                  {generatingStudySheet ? (\n                    <>\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Generating...\n                    </>\n                  ) : (\n                    'Generate Study Sheet'\n                  )}\n                </button>\n              </div>\n            </div>\n            \n            {topic && (\n              <div className=\"mt-4\">\n                <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getDifficultyInfo(topic.difficulty).color}`}>\n                  {getDifficultyInfo(topic.difficulty).label} Level\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* Content Sections */}\n          <div className=\"mt-6 grid grid-cols-1 gap-6\">\n            {/* Explanations */}\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <div>\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Explanations</h3>\n                  <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Core concepts and knowledge</p>\n                </div>\n              </div>\n              <div className=\"border-t border-gray-200\">\n                {explanations.length > 0 ? (\n                  <div className=\"px-4 py-5 sm:px-6 space-y-6\">\n                    {explanations.map((explanation) => (\n                      <div key={explanation._id} className=\"prose max-w-none\">\n                        <h4 className=\"text-lg font-medium text-gray-900\">{explanation.title}</h4>\n                        <div className=\"mt-2 text-sm text-gray-700 whitespace-pre-line\">\n                          {explanation.body}\n                        </div>\n                        <div className=\"mt-2 text-xs text-gray-500\">\n                          Source: {explanation.source}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"px-4 py-5 sm:px-6 text-center\">\n                    <p className=\"text-sm text-gray-500\">No explanations available for this topic yet.</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Examples */}\n            {examples.length > 0 && (\n              <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n                <div className=\"px-4 py-5 sm:px-6\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Examples</h3>\n                  <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Practical examples to reinforce learning</p>\n                </div>\n                <div className=\"border-t border-gray-200\">\n                  <div className=\"px-4 py-5 sm:px-6 space-y-6\">\n                    {examples.map((example) => (\n                      <div key={example._id} className=\"prose max-w-none\">\n                        <h4 className=\"text-lg font-medium text-gray-900\">{example.title}</h4>\n                        <div className=\"mt-2 text-sm text-gray-700 bg-gray-50 p-4 rounded-md whitespace-pre-line\">\n                          {example.body}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Resources */}\n            {resources.length > 0 && (\n              <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n                <div className=\"px-4 py-5 sm:px-6\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Additional Resources</h3>\n                  <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Further reading and learning materials</p>\n                </div>\n                <div className=\"border-t border-gray-200\">\n                  <div className=\"px-4 py-5 sm:px-6\">\n                    <ul className=\"space-y-4\">\n                      {resources.map((resource) => (\n                        <li key={resource._id} className=\"text-sm\">\n                          <h4 className=\"font-medium text-gray-900\">{resource.title}</h4>\n                          <p className=\"mt-1 text-gray-700\">{resource.body}</p>\n                          <p className=\"mt-1 text-xs text-primary-600\">{resource.source}</p>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Generate Study Sheet CTA */}\n            <div className=\"bg-primary-50 shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Generate a Personalized Study Sheet</h3>\n                <div className=\"mt-2 max-w-xl text-sm text-gray-500\">\n                  <p>\n                    Our AI will create a personalized study sheet for you based on your knowledge level and learning preferences.\n                  </p>\n                </div>\n                <div className=\"mt-5\">\n                  <button\n                    type=\"button\"\n                    onClick={handleGenerateStudySheet}\n                    disabled={generatingStudySheet}\n                    className={`inline-flex items-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm ${\n                      generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {generatingStudySheet ? (\n                      <>\n                        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        Creating Your Study Sheet...\n                      </>\n                    ) : (\n                      'Create My Study Sheet'\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default TopicPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}