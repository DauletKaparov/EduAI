{"ast":null,"code":"var _jsxFileName = \"/Users/dauletkaparov/Desktop/MVP2/frontend/src/pages/TopicPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { generatorAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TopicPage = () => {\n  _s();\n  const {\n    topicId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [topic, setTopic] = useState(null);\n  const [subject, setSubject] = useState(null);\n  const [contents, setContents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [generatingStudySheet, setGeneratingStudySheet] = useState(false);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8003';\n\n  // Mock data for when backend is unavailable\n  const mockTopic = {\n    _id: topicId || 't1',\n    name: 'Algebra',\n    description: 'Branch of mathematics dealing with symbols and the rules for manipulating these symbols. Core concepts include variables, equations, and functions.',\n    subject_id: 's1',\n    difficulty: 3,\n    prerequisites: ['Basic arithmetic', 'Number theory']\n  };\n  const mockSubject = {\n    _id: 's1',\n    name: 'Mathematics'\n  };\n  const mockContents = [{\n    _id: 'c1',\n    topic_id: topicId || 't1',\n    type: 'explanation',\n    title: 'Introduction to Algebra',\n    body: 'Algebra is a branch of mathematics dealing with symbols and the rules for manipulating these symbols. In elementary algebra, those symbols represent quantities without fixed values, known as variables. The rules for manipulating these symbols are derived from the properties of numbers.',\n    source: 'mock',\n    difficulty: 2\n  }, {\n    _id: 'c2',\n    topic_id: topicId || 't1',\n    type: 'explanation',\n    title: 'Algebraic Expressions',\n    body: 'An algebraic expression is a mathematical phrase that can contain numbers, variables, and operations. Examples include 3x + 5, 2a - 7b + 4, and (x² + y²) / 2.',\n    source: 'mock',\n    difficulty: 3\n  }, {\n    _id: 'c3',\n    topic_id: topicId || 't1',\n    type: 'example',\n    title: 'Solving Linear Equations',\n    body: 'Example: Solve for x in the equation 3x + 5 = 20\\n\\nStep 1: Subtract 5 from both sides\\n3x + 5 - 5 = 20 - 5\\n3x = 15\\n\\nStep 2: Divide both sides by 3\\n3x/3 = 15/3\\nx = 5\\n\\nThe solution is x = 5',\n    source: 'mock',\n    difficulty: 3\n  }, {\n    _id: 'c4',\n    topic_id: topicId || 't1',\n    type: 'resource',\n    title: 'Algebra Practice Problems',\n    body: 'Practice your algebra skills with these free online resources that include interactive problems and step-by-step solutions.',\n    source: 'Khan Academy',\n    difficulty: 3\n  }];\n  useEffect(() => {\n    const fetchTopicData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n\n        // For admin user with mock token from our login bypass\n        if (token === 'admin-dev-token') {\n          console.log('Using mock data for topic page');\n          // If the topicId starts with 't', it's one of our mock topics\n          if (topicId && topicId.startsWith('t')) {\n            setTopic(mockTopic);\n            setSubject(mockSubject);\n            setContents(mockContents);\n          } else {\n            // For any other topic ID, use the mock data but replace the IDs\n            setTopic({\n              ...mockTopic,\n              _id: topicId || 't1'\n            });\n            setSubject(mockSubject);\n            setContents(mockContents.map(content => ({\n              ...content,\n              topic_id: topicId || 't1'\n            })));\n          }\n          setLoading(false);\n          return;\n        }\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        try {\n          // Try to fetch data from API\n          // Fetch topic details\n          const topicResponse = await axios.get(`${API_URL}/api/topics/${topicId}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setTopic(topicResponse.data);\n\n          // Fetch subject details\n          const subjectResponse = await axios.get(`${API_URL}/api/subjects/${topicResponse.data.subject_id}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setSubject(subjectResponse.data);\n\n          // Fetch content for this topic\n          const contentResponse = await axios.get(`${API_URL}/api/contents?topic_id=${topicId}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setContents(contentResponse.data);\n        } catch (apiError) {\n          console.error('API calls failed, using mock data:', apiError);\n          // Fallback to mock data\n          setTopic({\n            ...mockTopic,\n            _id: topicId || 't1'\n          });\n          setSubject(mockSubject);\n          setContents(mockContents.map(content => ({\n            ...content,\n            topic_id: topicId || 't1'\n          })));\n        }\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching topic data:', err);\n        // Still use mock data instead of showing error\n        setTopic({\n          ...mockTopic,\n          _id: topicId || 't1'\n        });\n        setSubject(mockSubject);\n        setContents(mockContents.map(content => ({\n          ...content,\n          topic_id: topicId || 't1'\n        })));\n        setLoading(false);\n      }\n    };\n    if (topicId) {\n      fetchTopicData();\n    }\n  }, [API_URL, topicId]);\n  const handleGenerateStudySheet = async () => {\n    try {\n      setGeneratingStudySheet(true);\n      setError('');\n\n      // Create a more detailed error message for display\n      let errorMessage = 'Failed to generate study sheet. Please try again later.';\n\n      // Check if we're using a mock topic (starts with 't')\n      const isMockTopic = topicId === null || topicId === void 0 ? void 0 : topicId.startsWith('t');\n      const token = localStorage.getItem('token');\n      const isAdminUser = token === 'admin-dev-token';\n      if (isAdminUser && isMockTopic) {\n        console.log('Using mock study sheet generation for mock topic');\n        // Wait 1 second to simulate generation\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        navigate(`/study-sheet/${topicId}`);\n        return;\n      }\n      try {\n        // First attempt - Use our API service that's pointing to the test endpoint\n        // This doesn't require authentication and make sure we wait for it to complete\n        const response = await generatorAPI.generateStudySheet(topicId || '');\n\n        // Log the response to help with debugging\n        console.log('Study sheet API response:', response.status, response.data);\n\n        // Only navigate if we got a successful response\n        if (response.status === 200 && response.data) {\n          // Navigate to the study sheet page\n          navigate(`/study-sheet/${topicId}`);\n          return; // Exit early on success\n        } else {\n          errorMessage = 'Received empty response from server. Please try again.';\n        }\n      } catch (firstAttemptError) {\n        console.error('First attempt error:', firstAttemptError);\n        errorMessage = firstAttemptError.message || 'Server error during generation. Please try again.';\n\n        // If we're using admin user with mock data, just simulate success\n        if (isAdminUser) {\n          console.log('Admin user detected, bypassing actual API calls');\n          // Wait 1 second to simulate generation\n          await new Promise(resolve => setTimeout(resolve, 1000));\n          navigate(`/study-sheet/${topicId}`);\n          return;\n        }\n\n        // Try a different approach - fallback to direct API call\n        try {\n          console.log('Trying fallback approach with direct API call...');\n          const fallbackResponse = await axios.get(`${API_URL}/api/test/studysheet/${topicId}`);\n          if (fallbackResponse.status === 200 && fallbackResponse.data) {\n            navigate(`/study-sheet/${topicId}`);\n            return; // Exit early on success\n          } else {\n            errorMessage = 'Fallback approach also failed. Please try again later.';\n          }\n        } catch (fallbackError) {\n          console.error('Fallback approach error:', fallbackError);\n          errorMessage = 'All generation attempts failed. Please try again later.';\n          throw fallbackError; // Re-throw to be caught by outer catch\n        }\n      }\n\n      // If we got here, all attempts failed\n      throw new Error(errorMessage);\n    } catch (err) {\n      console.error('Study sheet generation error:', err);\n      setError(err instanceof Error ? err.message : 'Unknown error occurred');\n\n      // If all else fails but we're using admin, force navigation anyway\n      if (localStorage.getItem('token') === 'admin-dev-token') {\n        console.log('Forcing navigation to study sheet for admin user despite errors');\n        setTimeout(() => {\n          navigate(`/study-sheet/${topicId}`);\n        }, 1000);\n      }\n    } finally {\n      setGeneratingStudySheet(false);\n    }\n  };\n\n  // Function to get difficulty label and color\n  const getDifficultyInfo = difficulty => {\n    if (difficulty <= 3) {\n      return {\n        label: 'Beginner',\n        color: 'bg-green-100 text-green-800'\n      };\n    } else if (difficulty <= 6) {\n      return {\n        label: 'Intermediate',\n        color: 'bg-yellow-100 text-yellow-800'\n      };\n    } else {\n      return {\n        label: 'Advanced',\n        color: 'bg-red-100 text-red-800'\n      };\n    }\n  };\n\n  // Group content by type\n  const explanations = contents.filter(c => c.type === 'explanation');\n  const examples = contents.filter(c => c.type === 'example');\n  const resources = contents.filter(c => c.type === 'resource');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border-l-4 border-red-400 p-4 my-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-red-400\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-700\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row md:items-center md:justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [subject && /*#__PURE__*/_jsxDEV(Link, {\n                to: `/subjects?selected=${subject._id}`,\n                className: \"text-sm text-primary-600 hover:text-primary-700\",\n                children: subject.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mx-2 text-gray-500\",\n                children: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: topic === null || topic === void 0 ? void 0 : topic.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-500\",\n              children: topic === null || topic === void 0 ? void 0 : topic.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 md:mt-0 flex space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGenerateStudySheet,\n              disabled: generatingStudySheet,\n              className: `flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''}`,\n              children: generatingStudySheet ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this), \"Generating...\"]\n              }, void 0, true) : 'Generate Study Sheet'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), topic && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getDifficultyInfo(topic.difficulty).color}`,\n            children: [getDifficultyInfo(topic.difficulty).label, \" Level\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 grid grid-cols-1 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:px-6 flex justify-between items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg leading-6 font-medium text-gray-900\",\n                children: \"Explanations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n                children: \"Core concepts and knowledge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200\",\n            children: explanations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6 space-y-6\",\n              children: explanations.map(explanation => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prose max-w-none\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: explanation.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm text-gray-700 whitespace-pre-line\",\n                  children: explanation.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-xs text-gray-500\",\n                  children: [\"Source: \", explanation.source]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 25\n                }, this)]\n              }, explanation._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"No explanations available for this topic yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), examples.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900\",\n              children: \"Examples\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n              children: \"Practical examples to reinforce learning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6 space-y-6\",\n              children: examples.map(example => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prose max-w-none\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: example.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm text-gray-700 bg-gray-50 p-4 rounded-md whitespace-pre-line\",\n                  children: example.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 25\n                }, this)]\n              }, example._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 15\n        }, this), resources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900\",\n              children: \"Additional Resources\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n              children: \"Further reading and learning materials\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5 sm:px-6\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-4\",\n                children: resources.map(resource => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-gray-900\",\n                    children: resource.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-gray-700\",\n                    children: resource.body\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-xs text-primary-600\",\n                    children: resource.source\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 27\n                  }, this)]\n                }, resource._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-primary-50 shadow overflow-hidden sm:rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900\",\n              children: \"Generate a Personalized Study Sheet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 max-w-xl text-sm text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Our AI will create a personalized study sheet for you based on your knowledge level and learning preferences.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-5\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleGenerateStudySheet,\n                disabled: generatingStudySheet,\n                className: `inline-flex items-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm ${generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''}`,\n                children: generatingStudySheet ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      className: \"opacity-25\",\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"opacity-75\",\n                      fill: \"currentColor\",\n                      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 25\n                  }, this), \"Creating Your Study Sheet...\"]\n                }, void 0, true) : 'Create My Study Sheet'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 5\n  }, this);\n};\n_s(TopicPage, \"/pCqasm+hC8HhOBGnKMD22neWVQ=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = TopicPage;\nexport default TopicPage;\nvar _c;\n$RefreshReg$(_c, \"TopicPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","useAuth","axios","generatorAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","TopicPage","_s","topicId","navigate","user","topic","setTopic","subject","setSubject","contents","setContents","loading","setLoading","error","setError","generatingStudySheet","setGeneratingStudySheet","API_URL","process","env","REACT_APP_API_URL","mockTopic","_id","name","description","subject_id","difficulty","prerequisites","mockSubject","mockContents","topic_id","type","title","body","source","fetchTopicData","token","localStorage","getItem","console","log","startsWith","map","content","Error","topicResponse","get","headers","Authorization","data","subjectResponse","contentResponse","apiError","err","handleGenerateStudySheet","errorMessage","isMockTopic","isAdminUser","Promise","resolve","setTimeout","response","generateStudySheet","status","firstAttemptError","message","fallbackResponse","fallbackError","getDifficultyInfo","label","color","explanations","filter","c","examples","resources","className","children","fileName","_jsxFileName","lineNumber","columnNumber","xmlns","viewBox","fill","fillRule","d","clipRule","to","onClick","disabled","cx","cy","r","stroke","strokeWidth","length","explanation","example","resource","_c","$RefreshReg$"],"sources":["/Users/dauletkaparov/Desktop/MVP2/frontend/src/pages/TopicPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { generatorAPI } from '../services/api';\n\ninterface Topic {\n  _id: string;\n  name: string;\n  description: string;\n  subject_id: string;\n  difficulty: number;\n  prerequisites: string[];\n}\n\ninterface Content {\n  _id: string;\n  topic_id: string;\n  type: string;\n  title: string;\n  body: string;\n  source: string;\n  difficulty: number;\n}\n\ninterface Subject {\n  _id: string;\n  name: string;\n}\n\nconst TopicPage: React.FC = () => {\n  const { topicId } = useParams<{ topicId: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  \n  const [topic, setTopic] = useState<Topic | null>(null);\n  const [subject, setSubject] = useState<Subject | null>(null);\n  const [contents, setContents] = useState<Content[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [generatingStudySheet, setGeneratingStudySheet] = useState(false);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8003';\n\n  // Mock data for when backend is unavailable\n  const mockTopic: Topic = {\n    _id: topicId || 't1',\n    name: 'Algebra',\n    description: 'Branch of mathematics dealing with symbols and the rules for manipulating these symbols. Core concepts include variables, equations, and functions.',\n    subject_id: 's1',\n    difficulty: 3,\n    prerequisites: ['Basic arithmetic', 'Number theory']\n  };\n\n  const mockSubject: Subject = {\n    _id: 's1',\n    name: 'Mathematics'\n  };\n\n  const mockContents: Content[] = [\n    {\n      _id: 'c1',\n      topic_id: topicId || 't1',\n      type: 'explanation',\n      title: 'Introduction to Algebra',\n      body: 'Algebra is a branch of mathematics dealing with symbols and the rules for manipulating these symbols. In elementary algebra, those symbols represent quantities without fixed values, known as variables. The rules for manipulating these symbols are derived from the properties of numbers.',\n      source: 'mock',\n      difficulty: 2\n    },\n    {\n      _id: 'c2',\n      topic_id: topicId || 't1',\n      type: 'explanation',\n      title: 'Algebraic Expressions',\n      body: 'An algebraic expression is a mathematical phrase that can contain numbers, variables, and operations. Examples include 3x + 5, 2a - 7b + 4, and (x² + y²) / 2.',\n      source: 'mock',\n      difficulty: 3\n    },\n    {\n      _id: 'c3',\n      topic_id: topicId || 't1',\n      type: 'example',\n      title: 'Solving Linear Equations',\n      body: 'Example: Solve for x in the equation 3x + 5 = 20\\n\\nStep 1: Subtract 5 from both sides\\n3x + 5 - 5 = 20 - 5\\n3x = 15\\n\\nStep 2: Divide both sides by 3\\n3x/3 = 15/3\\nx = 5\\n\\nThe solution is x = 5',\n      source: 'mock',\n      difficulty: 3\n    },\n    {\n      _id: 'c4',\n      topic_id: topicId || 't1',\n      type: 'resource',\n      title: 'Algebra Practice Problems',\n      body: 'Practice your algebra skills with these free online resources that include interactive problems and step-by-step solutions.',\n      source: 'Khan Academy',\n      difficulty: 3\n    }\n  ];\n\n  useEffect(() => {\n    const fetchTopicData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        \n        // For admin user with mock token from our login bypass\n        if (token === 'admin-dev-token') {\n          console.log('Using mock data for topic page');\n          // If the topicId starts with 't', it's one of our mock topics\n          if (topicId && topicId.startsWith('t')) {\n            setTopic(mockTopic);\n            setSubject(mockSubject);\n            setContents(mockContents);\n          } else {\n            // For any other topic ID, use the mock data but replace the IDs\n            setTopic({...mockTopic, _id: topicId || 't1'});\n            setSubject(mockSubject);\n            setContents(mockContents.map(content => ({...content, topic_id: topicId || 't1'})));\n          }\n          setLoading(false);\n          return;\n        }\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        try {\n          // Try to fetch data from API\n          // Fetch topic details\n          const topicResponse = await axios.get(`${API_URL}/api/topics/${topicId}`, {\n            headers: { Authorization: `Bearer ${token}` }\n          });\n          \n          setTopic(topicResponse.data);\n          \n          // Fetch subject details\n          const subjectResponse = await axios.get(\n            `${API_URL}/api/subjects/${topicResponse.data.subject_id}`,\n            { headers: { Authorization: `Bearer ${token}` } }\n          );\n          \n          setSubject(subjectResponse.data);\n          \n          // Fetch content for this topic\n          const contentResponse = await axios.get(\n            `${API_URL}/api/contents?topic_id=${topicId}`,\n            { headers: { Authorization: `Bearer ${token}` } }\n          );\n          \n          setContents(contentResponse.data);\n        } catch (apiError) {\n          console.error('API calls failed, using mock data:', apiError);\n          // Fallback to mock data\n          setTopic({...mockTopic, _id: topicId || 't1'});\n          setSubject(mockSubject);\n          setContents(mockContents.map(content => ({...content, topic_id: topicId || 't1'})));\n        }\n        \n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching topic data:', err);\n        // Still use mock data instead of showing error\n        setTopic({...mockTopic, _id: topicId || 't1'});\n        setSubject(mockSubject);\n        setContents(mockContents.map(content => ({...content, topic_id: topicId || 't1'})));\n        setLoading(false);\n      }\n    };\n    \n    if (topicId) {\n      fetchTopicData();\n    }\n  }, [API_URL, topicId]);\n\n  const handleGenerateStudySheet = async () => {\n    try {\n      setGeneratingStudySheet(true);\n      setError('');\n      \n      // Create a more detailed error message for display\n      let errorMessage = 'Failed to generate study sheet. Please try again later.';\n      \n      // Check if we're using a mock topic (starts with 't')\n      const isMockTopic = topicId?.startsWith('t');\n      const token = localStorage.getItem('token');\n      const isAdminUser = token === 'admin-dev-token';\n      \n      if (isAdminUser && isMockTopic) {\n        console.log('Using mock study sheet generation for mock topic');\n        // Wait 1 second to simulate generation\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        navigate(`/study-sheet/${topicId}`);\n        return;\n      }\n      \n      try {\n        // First attempt - Use our API service that's pointing to the test endpoint\n        // This doesn't require authentication and make sure we wait for it to complete\n        const response = await generatorAPI.generateStudySheet(topicId || '');\n        \n        // Log the response to help with debugging\n        console.log('Study sheet API response:', response.status, response.data);\n        \n        // Only navigate if we got a successful response\n        if (response.status === 200 && response.data) {\n          // Navigate to the study sheet page\n          navigate(`/study-sheet/${topicId}`);\n          return; // Exit early on success\n        } else {\n          errorMessage = 'Received empty response from server. Please try again.';\n        }\n      } catch (firstAttemptError: any) {\n        console.error('First attempt error:', firstAttemptError);\n        errorMessage = firstAttemptError.message || 'Server error during generation. Please try again.';\n        \n        // If we're using admin user with mock data, just simulate success\n        if (isAdminUser) {\n          console.log('Admin user detected, bypassing actual API calls');\n          // Wait 1 second to simulate generation\n          await new Promise(resolve => setTimeout(resolve, 1000));\n          navigate(`/study-sheet/${topicId}`);\n          return;\n        }\n        \n        // Try a different approach - fallback to direct API call\n        try {\n          console.log('Trying fallback approach with direct API call...');\n          const fallbackResponse = await axios.get(`${API_URL}/api/test/studysheet/${topicId}`);\n          \n          if (fallbackResponse.status === 200 && fallbackResponse.data) {\n            navigate(`/study-sheet/${topicId}`);\n            return; // Exit early on success\n          } else {\n            errorMessage = 'Fallback approach also failed. Please try again later.';\n          }\n        } catch (fallbackError) {\n          console.error('Fallback approach error:', fallbackError);\n          errorMessage = 'All generation attempts failed. Please try again later.';\n          throw fallbackError; // Re-throw to be caught by outer catch\n        }\n      }\n      \n      // If we got here, all attempts failed\n      throw new Error(errorMessage);\n    } catch (err) {\n      console.error('Study sheet generation error:', err);\n      setError(err instanceof Error ? err.message : 'Unknown error occurred');\n      \n      // If all else fails but we're using admin, force navigation anyway\n      if (localStorage.getItem('token') === 'admin-dev-token') {\n        console.log('Forcing navigation to study sheet for admin user despite errors');\n        setTimeout(() => {\n          navigate(`/study-sheet/${topicId}`);\n        }, 1000);\n      }\n    } finally {\n      setGeneratingStudySheet(false);\n    }\n  };\n\n  // Function to get difficulty label and color\n  const getDifficultyInfo = (difficulty: number) => {\n    if (difficulty <= 3) {\n      return { label: 'Beginner', color: 'bg-green-100 text-green-800' };\n    } else if (difficulty <= 6) {\n      return { label: 'Intermediate', color: 'bg-yellow-100 text-yellow-800' };\n    } else {\n      return { label: 'Advanced', color: 'bg-red-100 text-red-800' };\n    }\n  };\n\n  // Group content by type\n  const explanations = contents.filter(c => c.type === 'explanation');\n  const examples = contents.filter(c => c.type === 'example');\n  const resources = contents.filter(c => c.type === 'resource');\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 my-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">{error}</p>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <>\n          {/* Topic Header */}\n          <div className=\"py-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\n              <div>\n                <div className=\"flex items-center\">\n                  {subject && (\n                    <Link to={`/subjects?selected=${subject._id}`} className=\"text-sm text-primary-600 hover:text-primary-700\">\n                      {subject.name}\n                    </Link>\n                  )}\n                  <span className=\"mx-2 text-gray-500\">/</span>\n                  <h1 className=\"text-2xl font-bold text-gray-900\">{topic?.name}</h1>\n                </div>\n                <p className=\"mt-1 text-sm text-gray-500\">{topic?.description}</p>\n              </div>\n              <div className=\"mt-4 md:mt-0 flex space-x-3\">\n                <button\n                  onClick={handleGenerateStudySheet}\n                  disabled={generatingStudySheet}\n                  className={`flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${\n                    generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''\n                  }`}\n                >\n                  {generatingStudySheet ? (\n                    <>\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Generating...\n                    </>\n                  ) : (\n                    'Generate Study Sheet'\n                  )}\n                </button>\n              </div>\n            </div>\n            \n            {topic && (\n              <div className=\"mt-4\">\n                <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getDifficultyInfo(topic.difficulty).color}`}>\n                  {getDifficultyInfo(topic.difficulty).label} Level\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* Content Sections */}\n          <div className=\"mt-6 grid grid-cols-1 gap-6\">\n            {/* Explanations */}\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <div>\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Explanations</h3>\n                  <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Core concepts and knowledge</p>\n                </div>\n              </div>\n              <div className=\"border-t border-gray-200\">\n                {explanations.length > 0 ? (\n                  <div className=\"px-4 py-5 sm:px-6 space-y-6\">\n                    {explanations.map((explanation) => (\n                      <div key={explanation._id} className=\"prose max-w-none\">\n                        <h4 className=\"text-lg font-medium text-gray-900\">{explanation.title}</h4>\n                        <div className=\"mt-2 text-sm text-gray-700 whitespace-pre-line\">\n                          {explanation.body}\n                        </div>\n                        <div className=\"mt-2 text-xs text-gray-500\">\n                          Source: {explanation.source}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"px-4 py-5 sm:px-6 text-center\">\n                    <p className=\"text-sm text-gray-500\">No explanations available for this topic yet.</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Examples */}\n            {examples.length > 0 && (\n              <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n                <div className=\"px-4 py-5 sm:px-6\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Examples</h3>\n                  <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Practical examples to reinforce learning</p>\n                </div>\n                <div className=\"border-t border-gray-200\">\n                  <div className=\"px-4 py-5 sm:px-6 space-y-6\">\n                    {examples.map((example) => (\n                      <div key={example._id} className=\"prose max-w-none\">\n                        <h4 className=\"text-lg font-medium text-gray-900\">{example.title}</h4>\n                        <div className=\"mt-2 text-sm text-gray-700 bg-gray-50 p-4 rounded-md whitespace-pre-line\">\n                          {example.body}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Resources */}\n            {resources.length > 0 && (\n              <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n                <div className=\"px-4 py-5 sm:px-6\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Additional Resources</h3>\n                  <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">Further reading and learning materials</p>\n                </div>\n                <div className=\"border-t border-gray-200\">\n                  <div className=\"px-4 py-5 sm:px-6\">\n                    <ul className=\"space-y-4\">\n                      {resources.map((resource) => (\n                        <li key={resource._id} className=\"text-sm\">\n                          <h4 className=\"font-medium text-gray-900\">{resource.title}</h4>\n                          <p className=\"mt-1 text-gray-700\">{resource.body}</p>\n                          <p className=\"mt-1 text-xs text-primary-600\">{resource.source}</p>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Generate Study Sheet CTA */}\n            <div className=\"bg-primary-50 shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Generate a Personalized Study Sheet</h3>\n                <div className=\"mt-2 max-w-xl text-sm text-gray-500\">\n                  <p>\n                    Our AI will create a personalized study sheet for you based on your knowledge level and learning preferences.\n                  </p>\n                </div>\n                <div className=\"mt-5\">\n                  <button\n                    type=\"button\"\n                    onClick={handleGenerateStudySheet}\n                    disabled={generatingStudySheet}\n                    className={`inline-flex items-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm ${\n                      generatingStudySheet ? 'opacity-70 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {generatingStudySheet ? (\n                      <>\n                        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        Creating Your Study Sheet...\n                      </>\n                    ) : (\n                      'Create My Study Sheet'\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default TopicPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}